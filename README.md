# My Local New Tab

<div align="center">

**ä¸€ä¸ªç®€æ´ã€æœ¬åœ°åŒ–ã€åŠŸèƒ½ä¸°å¯Œçš„æµè§ˆå™¨æ–°æ ‡ç­¾é¡µæ‰©å±•**

[![License](https://img.shields.io/badge/license-AGPL--3.0-blue.svg)](LICENSE)
[![Chrome Extension Manifest](https://img.shields.io/badge/manifest-v3-brightgreen.svg)](manifest.json)

[English](#english) | [ç®€ä½“ä¸­æ–‡](#ç®€ä½“ä¸­æ–‡)

</div>

## ğŸ“¦ æ›´æ–°æ—¥å¿—

|  ç‰ˆæœ¬  |  æ—¥æœŸ   | æ›´æ–°å†…å®¹                                                       |
| :----: | :-----: | :------------------------------------------------------------- |
| v1.5.3 | 2025-12 | å¯ä¿®æ”¹æ ‡ç­¾çš„é€æ˜åº¦ |
| v1.5.2 | 2025-12 | é™åˆ¶ gist å›¾ç‰‡å¤§å°ï¼Œæä¾›å‹ç¼©ï¼Œç¡®ä¿ gist åŒæ­¥æ—¶èƒ½æ­£å¸¸æ˜¾ç¤ºèƒŒæ™¯å›¾ |
| v1.5.1 | 2025-12 | æ–°å»ºæ ‡ç­¾é¡µæ—¶é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªåˆ†ç±»                                 |
|  v1.5  |    -    | å®Œæˆæ‰€æœ‰é¢„æœŸåŠŸèƒ½                                               |
|  v1.0  |    -    | å®ŒæˆåŸºæœ¬æ¡†æ¶æ­å»º                                               |

---

## ç®€ä½“ä¸­æ–‡

### å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»£ç  100%ç”± ai ç¼–å†™ï¼Œæ„Ÿè°¢ Claude Sonnet 4.5ï¼ŒGemini3 Proï¼Œgpt-5.1-Codex-Max çš„å¤§åŠ›æ”¯æŒ

### ğŸ“‹ ç›®å½•

-   [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
-   [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
-   [è¯¦ç»†åŠŸèƒ½è¯´æ˜](#-è¯¦ç»†åŠŸèƒ½è¯´æ˜)
-   [å…³é”®å¸¸é‡é…ç½®](#-å…³é”®å¸¸é‡é…ç½®)
-   [æ•°æ®åŒæ­¥](#-æ•°æ®åŒæ­¥)
-   [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
-   [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
-   [è®¸å¯è¯](#-è®¸å¯è¯)
-   [è”ç³»æ–¹å¼](#-è”ç³»æ–¹å¼)

---

### âœ¨ åŠŸèƒ½ç‰¹æ€§

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

-   **ğŸ“‘ æ™ºèƒ½ä¹¦ç­¾ç®¡ç†**

    -   æ”¯æŒä¹¦ç­¾å’Œæ–‡ä»¶å¤¹ä¸¤ç§ç±»å‹
    -   æ‹–æ‹½æ’åºï¼Œé•¿æŒ‰å³å¯æ‹–åŠ¨
    -   æ”¯æŒæ–‡ä»¶å¤¹åµŒå¥—ï¼Œæ‹–æ‹½åˆ°æ–‡ä»¶å¤¹å³å¯æ”¶çº³
    -   ä¹¦ç­¾å¡ç‰‡æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡ï¼ˆFavicon è‡ªåŠ¨è·å–/è‡ªå®šä¹‰ä¸Šä¼ /çº¯è‰²+æ–‡å­—ï¼‰
    -   å¤šçº§å›¾æ ‡é™çº§ç­–ç•¥ï¼Œç¡®ä¿æ˜¾ç¤ºç¨³å®š

-   **ğŸ—‚ï¸ åˆ†ç±»ç³»ç»Ÿ**

    -   æ— é™åˆ†ç±»ï¼Œä¾§è¾¹æ ç®¡ç†
    -   åˆ†ç±»æ”¯æŒæ‹–æ‹½æ’åº
    -   æ¯ä¸ªåˆ†ç±»ç‹¬ç«‹ç®¡ç†ä¹¦ç­¾

-   **ğŸ” å¤šå¼•æ“æœç´¢**

    -   æ”¯æŒ Googleã€Bingã€ç™¾åº¦ã€Yahoo
    -   å¿«é€Ÿåˆ‡æ¢æœç´¢å¼•æ“
    -   æœç´¢æ¡†é›†æˆåœ¨é¡¶éƒ¨

-   **ğŸ¨ è‡ªå®šä¹‰èƒŒæ™¯**
    -   **æœ¬åœ°æ¨¡å¼**ï¼šä¸Šä¼ æœ¬åœ°å›¾ç‰‡æˆ–ä½¿ç”¨å›¾ç‰‡é“¾æ¥
    -   **äº‘ç«¯æ¨¡å¼**ï¼šä» WebDAV/Gist è‡ªåŠ¨åŒæ­¥èƒŒæ™¯å›¾
    -   å¯è°ƒèŠ‚é€æ˜åº¦ï¼ˆ0-100%ï¼‰
    -   æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼ï¼ˆjpg/png/webp/avif/gifï¼‰
    -   å®æ—¶é¢„è§ˆæ•ˆæœ

#### ğŸ’¾ æ•°æ®å­˜å‚¨ä¸åŒæ­¥

æ”¯æŒå››ç§å­˜å‚¨æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒä½¿ç”¨åœºæ™¯ï¼š

1. **æµè§ˆå™¨å­˜å‚¨**ï¼ˆé»˜è®¤ï¼‰

    - æ•°æ®ä¿å­˜åœ¨æ‰©å±•ä¸“å±çš„ `storage.local`
    - ä»…ç»‘å®šå½“å‰è®¾å¤‡/æµè§ˆå™¨é…ç½®æ–‡ä»¶
    - æ— å®¹é‡é™åˆ¶ï¼Œæ”¯æŒå¤§é‡ä¹¦ç­¾å’Œå¤§å°ºå¯¸èƒŒæ™¯å›¾
    - ç‰©ç†è·¯å¾„ï¼šEdge ç”¨æˆ·æ•°æ®ç›®å½•ä¸‹çš„ `Local Extension Settings/<æ‰©å±•ID>`

2. **è´¦å·åŒæ­¥**

    - é€šè¿‡æµè§ˆå™¨è´¦å·çš„ `chrome.storage.sync` è‡ªåŠ¨åŒæ­¥
    - é€‚åˆå¤šè®¾å¤‡å…±äº«
    - å—æµè§ˆå™¨åŒæ­¥é…é¢é™åˆ¶ï¼ˆçº¦ 100KBï¼‰

3. **WebDAV åŒæ­¥**

    - æ”¯æŒä»»ä½•å…¼å®¹ WebDAV åè®®çš„æœåŠ¡ï¼ˆNextcloudã€åšæœäº‘ç­‰ï¼‰
    - éœ€è¦å¯å¤–ç½‘è®¿é—®çš„ WebDAV ç«¯ç‚¹
    - æ”¯æŒ HTTPS + åŸºç¡€è®¤è¯
    - é…ç½®ç¤ºä¾‹ï¼š`https://dav.example.com/remote.php/dav/files/<user>/edgeTab-data.json`

4. **GitHub Gist åŒæ­¥**
    - ä½¿ç”¨ GitHub Personal Access Tokenï¼ˆéœ€ `gist` æƒé™ï¼‰
    - å¯æŒ‡å®šç°æœ‰ Gist IDï¼Œæˆ–ç•™ç©ºè‡ªåŠ¨åˆ›å»ºç§æœ‰ Gist
    - é»˜è®¤æ–‡ä»¶å `edgeTab-data.json`ï¼Œå¯è‡ªå®šä¹‰
    - Token å’Œ Gist ID ä»…ä¿å­˜åœ¨æœ¬åœ°

#### ğŸ“¤ æ•°æ®å¯¼å…¥å¯¼å‡º

-   **å¯¼å‡º**ï¼šJSON æ ¼å¼ï¼Œå¯ç”¨äºå¤‡ä»½æˆ–è¿ç§»
-   **å¯¼å…¥**ï¼šæ”¯æŒä¸¤ç§æ¨¡å¼
    -   **åˆå¹¶æ¨¡å¼**ï¼šåœ¨ç°æœ‰æ•°æ®åŸºç¡€ä¸Šè¿½åŠ ï¼ˆä¸é‡å¤ç½‘å€ï¼‰
    -   **è¦†ç›–æ¨¡å¼**ï¼šå®Œå…¨æ›¿æ¢å½“å‰æ•°æ®
-   **å…¼å®¹æ€§**ï¼šæ”¯æŒæœ¬æ‰©å±•å’Œ WeTab çš„æ•°æ®æ ¼å¼å¯¼å…¥

#### ğŸ­ ç”¨æˆ·ä½“éªŒ

-   **ä¸»é¢˜**ï¼šè‡ªåŠ¨è·Ÿéšç³»ç»Ÿæ·±è‰²/æµ…è‰²æ¨¡å¼
-   **åŠ¨ç”»**ï¼šæä¾›è¿‡æ¸¡åŠ¨ç”»å’Œäº¤äº’åé¦ˆ
-   **æ‹–æ‹½**ï¼š
    -   ä¹¦ç­¾å¡ç‰‡ï¼šé•¿æŒ‰æ¿€æ´»æ‹–æ‹½ï¼ˆå¸¦è§†è§‰åé¦ˆï¼‰
    -   åˆ†ç±»åˆ—è¡¨ï¼šé•¿æŒ‰æ¿€æ´»æ‹–æ‹½
    -   æ”¯æŒè·¨æ–‡ä»¶å¤¹æ‹–åŠ¨
    -   æ‹–æ‹½åˆ°æ–‡ä»¶å¤¹å¡ç‰‡å¯è‡ªåŠ¨æ”¶çº³
    -   å®æ—¶å ä½ç¬¦æç¤º
-   **å›¾æ ‡ç¼“å­˜**ï¼šè‡ªåŠ¨ç¼“å­˜ç½‘ç«™å›¾æ ‡ï¼Œæå‡åŠ è½½é€Ÿåº¦
-   **View Transitions API**ï¼šæ”¯æŒæµè§ˆå™¨åŸç”Ÿé¡µé¢è¿‡æ¸¡åŠ¨ç”»

---

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### å®‰è£…æ­¥éª¤

1. **ä¸‹è½½é¡¹ç›®**

    ```bash
    git clone https://github.com/everlst/MyLocalNewTab.git
    cd MyLocalNewTab
    ```

2. **åŠ è½½æ‰©å±•**

    - æ‰“å¼€ Edge/Chrome æµè§ˆå™¨
    - è®¿é—® `edge://extensions/`ï¼ˆEdgeï¼‰æˆ– `chrome://extensions/`ï¼ˆChromeï¼‰
    - å¼€å¯"å¼€å‘è€…æ¨¡å¼"
    - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
    - é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹ `MyLocalNewTab`

3. **å¼€å§‹ä½¿ç”¨**
    - æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œæ‰©å±•ä¼šè‡ªåŠ¨ç”Ÿæ•ˆ
    - é»˜è®¤åŒ…å« Googleã€Bilibiliã€GitHub ä¸‰ä¸ªç¤ºä¾‹ä¹¦ç­¾

---

### ğŸ“– è¯¦ç»†åŠŸèƒ½è¯´æ˜

#### ä¹¦ç­¾ç®¡ç†

##### æ·»åŠ ä¹¦ç­¾

1. ç‚¹å‡»ä¹¦ç­¾ç½‘æ ¼ä¸­çš„"æ·»åŠ "å¡ç‰‡
2. é€‰æ‹©ç±»å‹ï¼š
    - **ç½‘å€**ï¼šæ·»åŠ ä¸€ä¸ªç½‘ç«™é“¾æ¥
    - **æ–‡ä»¶å¤¹**ï¼šåˆ›å»ºä¸€ä¸ªä¹¦ç­¾æ–‡ä»¶å¤¹
3. å¡«å†™ä¿¡æ¯ï¼š
    - **ç½‘å€**ï¼ˆä»…ç½‘å€ç±»å‹ï¼‰ï¼šç½‘ç«™çš„å®Œæ•´ URL
    - **æ ‡é¢˜**ï¼šæ˜¾ç¤ºåç§°
    - **å›¾æ ‡**ï¼ˆä»…ç½‘å€ç±»å‹ï¼‰ï¼š
        - è‡ªåŠ¨è·å– Faviconï¼šä»å¤šä¸ªå›¾æ ‡æºè‡ªåŠ¨è·å–é«˜æ¸…å›¾æ ‡
        - è‡ªå®šä¹‰å›¾æ ‡ï¼šä¸Šä¼ æœ¬åœ°å›¾ç‰‡æˆ–ä½¿ç”¨çº¯è‰²+æ–‡å­—
    - **åˆ†ç±»**ï¼šé€‰æ‹©æ‰€å±åˆ†ç±»

##### ç¼–è¾‘/åˆ é™¤ä¹¦ç­¾

-   é¼ æ ‡æ‚¬åœåœ¨ä¹¦ç­¾å¡ç‰‡ä¸Š
-   ç‚¹å‡»å³ä¸Šè§’çš„ âœï¼ˆç¼–è¾‘ï¼‰æˆ– Ã—ï¼ˆåˆ é™¤ï¼‰æŒ‰é’®

##### æ‹–æ‹½æ’åº

-   **æ¿€æ´»æ‹–æ‹½**ï¼šé•¿æŒ‰ä¹¦ç­¾å¡ç‰‡ï¼ˆå¡ç‰‡ä¼šæ”¾å¤§å¹¶æ˜¾ç¤ºé˜´å½±ï¼‰
-   **ç§»åŠ¨**ï¼šæ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®ï¼ˆä¼šæ˜¾ç¤ºè“è‰²è™šçº¿å ä½ç¬¦ï¼‰
-   **é‡Šæ”¾**ï¼šæ¾å¼€é¼ æ ‡å®Œæˆç§»åŠ¨
-   **è·¨åˆ†ç±»ç§»åŠ¨**ï¼šå¯æ‹–æ‹½åˆ°ä¸åŒåˆ†ç±»
-   **æ”¶çº³åˆ°æ–‡ä»¶å¤¹**ï¼šæ‹–æ‹½åˆ°æ–‡ä»¶å¤¹å¡ç‰‡ä¸Šï¼ˆæ–‡ä»¶å¤¹ä¼šé«˜äº®æç¤ºï¼‰

##### æ–‡ä»¶å¤¹åŠŸèƒ½

-   **åˆ›å»ºæ–‡ä»¶å¤¹**ï¼šæ·»åŠ ä¹¦ç­¾æ—¶é€‰æ‹©"æ–‡ä»¶å¤¹"ç±»å‹
-   **æ‰“å¼€æ–‡ä»¶å¤¹**ï¼šç‚¹å‡»æ–‡ä»¶å¤¹å¡ç‰‡
-   **åœ¨æ–‡ä»¶å¤¹å†…æ·»åŠ **ï¼šæ–‡ä»¶å¤¹å¼¹çª—ä¸­ç‚¹å‡»"æ·»åŠ "
-   **ç§»å‡ºæ–‡ä»¶å¤¹**ï¼šåœ¨æ–‡ä»¶å¤¹å†…æ‹–æ‹½ä¹¦ç­¾åˆ°å¤–éƒ¨
-   **è‡ªåŠ¨è§£æ•£**ï¼šæ–‡ä»¶å¤¹ä»…å‰©ä¸€ä¸ªä¹¦ç­¾æ—¶è‡ªåŠ¨è§£æ•£
-   **åµŒå¥—æ–‡ä»¶å¤¹**ï¼šæ”¯æŒæ–‡ä»¶å¤¹å†…åˆ›å»ºå­æ–‡ä»¶å¤¹ï¼Œæœ€å¤šæ”¯æŒ 3 çº§æ–‡ä»¶å¤¹

#### åˆ†ç±»ç®¡ç†

##### æ·»åŠ åˆ†ç±»

1. ç‚¹å‡»ä¾§è¾¹æ åº•éƒ¨çš„"+"æŒ‰é’®
2. è¾“å…¥åˆ†ç±»åç§°
3. ç‚¹å‡»"ä¿å­˜"

##### åˆ‡æ¢åˆ†ç±»

-   ç‚¹å‡»ä¾§è¾¹æ çš„åˆ†ç±»åç§°
-   ä¸»åŒºåŸŸä¼šæ˜¾ç¤ºè¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰ä¹¦ç­¾

##### åˆ é™¤åˆ†ç±»

-   é¼ æ ‡æ‚¬åœåœ¨åˆ†ç±»ä¸Š
-   ç‚¹å‡»å³ä¾§çš„ Ã— æŒ‰é’®
-   æ³¨æ„ï¼šè‡³å°‘ä¿ç•™ä¸€ä¸ªåˆ†ç±»

##### åˆ†ç±»æ’åº

-   é•¿æŒ‰åˆ†ç±»åç§° 90ms æ¿€æ´»æ‹–æ‹½
-   æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®
-   æ¾å¼€å®Œæˆæ’åº

#### æœç´¢åŠŸèƒ½

-   **åˆ‡æ¢æœç´¢å¼•æ“**ï¼šç‚¹å‡»æœç´¢æ¡†å·¦ä¾§çš„ä¸‹æ‹‰èœå•
-   **æœç´¢**ï¼šåœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯ï¼ŒæŒ‰ Enter é”®
-   **æ”¯æŒçš„æœç´¢å¼•æ“**ï¼š
    -   Googleï¼ˆé»˜è®¤ï¼‰
    -   Bing
    -   ç™¾åº¦
    -   Yahoo

#### èƒŒæ™¯è®¾ç½®

##### æœ¬åœ°æ¨¡å¼

1. æ‰“å¼€è®¾ç½® â†’ å¤–è§‚ â†’ èƒŒæ™¯è®¾ç½®
2. é€‰æ‹©"æœ¬åœ°"
3. é€‰æ‹©ä¸Šä¼ æ–¹å¼ï¼š
    - **æœ¬åœ°ä¸Šä¼ **ï¼šé€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼ˆå»ºè®® â‰¤2MB ç”¨äºæµè§ˆå™¨å­˜å‚¨ï¼Œâ‰¤4MB ç”¨äº Gistï¼ŒWebDAV æ— å¤§å°é™åˆ¶ï¼‰
    - **å›¾ç‰‡é“¾æ¥**ï¼šç²˜è´´å›¾ç‰‡ URLï¼ˆæ¨è 4K ç”¨æˆ·ä½¿ç”¨å›¾åºŠï¼Œæ— å¤§å°é™åˆ¶ï¼‰
4. è°ƒèŠ‚é€æ˜åº¦ï¼ˆ0-100%ï¼‰
5. å®æ—¶é¢„è§ˆæ•ˆæœ

> **âš ï¸ Gist èƒŒæ™¯å›¾æ€§èƒ½æç¤º**  
> Gist å°†å›¾ç‰‡å­˜å‚¨ä¸º Base64 æ–‡æœ¬æ ¼å¼ï¼Œå­˜åœ¨ä»¥ä¸‹é™åˆ¶ï¼š
>
> -   Base64 ç¼–ç ä¼šä½¿ä½“ç§¯å¢åŠ çº¦ 33%
> -   å¤§å›¾ç‰‡ä¼šå¯¼è‡´åŒæ­¥å’ŒåŠ è½½é€Ÿåº¦æ˜æ˜¾å˜æ…¢
> -   å»ºè®®å›¾ç‰‡å‹ç¼©å < 4MBï¼Œæˆ–ä½¿ç”¨å›¾åºŠæœåŠ¡ + URL æ¨¡å¼
> -   **WebDAV æ— å¤§å°é™åˆ¶**ï¼Œæ”¯æŒäºŒè¿›åˆ¶å­˜å‚¨ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ¨èå¤§å›¾ç‰‡ä½¿ç”¨

##### äº‘ç«¯æ¨¡å¼

1. æ‰“å¼€è®¾ç½® â†’ å¤–è§‚ â†’ èƒŒæ™¯è®¾ç½®
2. é€‰æ‹©"äº‘ç«¯åŒæ­¥"
3. ç¡®ä¿å·²é…ç½® WebDAV æˆ– Gist åŒæ­¥
4. ç‚¹å‡»"åˆ·æ–°äº‘ç«¯"æˆ–"ä¸Šä¼ /ä¿®æ”¹"
5. æ‰©å±•ä¼šè‡ªåŠ¨åœ¨è¿œç¨‹æ•°æ®æ–‡ä»¶åŒç›®å½•æŸ¥æ‰¾ `background.(jpg|png|webp|avif|gif)` æ–‡ä»¶

#### è®¾ç½®é¡µé¢

ç‚¹å‡»å³ä¸‹è§’çš„é½¿è½®æŒ‰é’® âš™ æ‰“å¼€è®¾ç½®é¡µé¢ã€‚

##### å¤–è§‚è®¾ç½®

-   **èƒŒæ™¯å›¾**ï¼šè¯¦è§"èƒŒæ™¯è®¾ç½®"éƒ¨åˆ†
-   **é€æ˜åº¦**ï¼šæ‹–åŠ¨æ»‘å—è°ƒèŠ‚ï¼ˆ0-100%ï¼‰
-   **å®æ—¶é¢„è§ˆ**ï¼šæ‰€è§å³æ‰€å¾—

##### æ•°æ®å­˜å‚¨ä½ç½®

é€‰æ‹©å››ç§å­˜å‚¨æ–¹å¼ä¹‹ä¸€ï¼š

1. **æµè§ˆå™¨å­˜å‚¨**ï¼ˆæ¨èï¼‰

    - ä»…æ­¤è®¾å¤‡
    - æ— å®¹é‡é™åˆ¶
    - æ•°æ®ä¿å­˜åœ¨æ‰©å±•ä¸“å±å­˜å‚¨åŒºåŸŸ

2. **è´¦å·åŒæ­¥**

    - è·¨è®¾å¤‡åŒæ­¥
    - å®¹é‡é™åˆ¶çº¦ 100KB
    - æ•°æ®è¿‡å¤§æ—¶è¯·æ”¹ç”¨æµè§ˆå™¨å­˜å‚¨æˆ–è¿œç¨‹åŒæ­¥

3. **WebDAV åŒæ­¥**

    - å¡«å†™é…ç½®ï¼š
        - **æ–‡ä»¶åœ°å€**ï¼šç›´æ¥æŒ‡å‘ JSON æ–‡ä»¶çš„å®Œæ•´ URL
        - **ç”¨æˆ·å**ï¼šWebDAV è´¦å·
        - **å¯†ç **ï¼šWebDAV å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç 
    - ç‚¹å‡»"åº”ç”¨é…ç½®"éªŒè¯
    - éªŒè¯æˆåŠŸåå¯é€‰æ‹©åŒæ­¥æ–¹å‘ï¼š
        - **æœ¬åœ°è¦†ç›–äº‘ç«¯**ï¼šä¸Šä¼ æœ¬åœ°æ•°æ®åˆ°è¿œç¨‹
        - **åˆå¹¶åä¸Šä¼ å¹¶ç”Ÿæ•ˆ**ï¼šåˆå¹¶æœ¬åœ°å’Œè¿œç¨‹æ•°æ®
        - **äº‘ç«¯è¦†ç›–æœ¬åœ°**ï¼šä¸‹è½½è¿œç¨‹æ•°æ®è¦†ç›–æœ¬åœ°

4. **GitHub Gist åŒæ­¥**
    - å¡«å†™é…ç½®ï¼š
        - **GitHub Token**ï¼š[åˆ›å»º Token](https://github.com/settings/tokens)ï¼ˆä»…éœ€ `gist` æƒé™ï¼‰
        - **Gist ID**ï¼šç•™ç©ºåˆ™è‡ªåŠ¨åˆ›å»º
        - **æ–‡ä»¶å**ï¼šé»˜è®¤ `edgeTab-data.json`
    - ç‚¹å‡»"åº”ç”¨é…ç½®"éªŒè¯
    - éªŒè¯æˆåŠŸåå¯é€‰æ‹©åŒæ­¥æ–¹å‘

##### æ•°æ®è½¬ç§»

-   **å¯¼å‡ºæ•°æ®**ï¼šç‚¹å‡»"å¯¼å‡ºæ•°æ®"æŒ‰é’®ï¼Œä¸‹è½½ JSON æ–‡ä»¶
-   **å¯¼å…¥æ•°æ®**ï¼š
    1. é€‰æ‹©æ•°æ®æ¥æºï¼š
        - ç”±å½“å‰æ‰©å±•å¯¼å‡ºçš„æ•°æ®
        - ç”± WeTab å¯¼å‡ºçš„æ•°æ®ï¼ˆéœ€è¦å°†*.data æ ¼å¼æ‰‹åŠ¨æ”¹ä¸º*.jsonï¼‰
    2. é€‰æ‹©å¯¼å…¥æ¨¡å¼ï¼š
        - **åˆå¹¶**ï¼šåœ¨ç°æœ‰æ•°æ®åŸºç¡€ä¸Šè¿½åŠ 
        - **è¦†ç›–**ï¼šæ›¿æ¢å½“å‰æ‰€æœ‰æ•°æ®
    3. ç‚¹å‡»"å¯¼å…¥æ•°æ®"ï¼Œé€‰æ‹©æ–‡ä»¶

---

#### å…³é”®å¸¸é‡é…ç½®

**å­˜å‚¨é”®**ï¼š

```javascript
const STORAGE_KEYS = {
	DATA: "edgeTabData",
	SETTINGS: "edgeTabSettings",
	BACKGROUND_IMAGE: "edgeTabBgImage",
};
```

**åŒæ­¥é…ç½®**ï¼š

```javascript
const REMOTE_FETCH_TIMEOUT = 12000; // 12ç§’è¶…æ—¶
const DEFAULT_REMOTE_FILENAME = "edgeTab-data.json";
const BACKGROUND_EXTENSIONS = ["jpg", "jpeg", "png", "webp", "avif", "gif"];
```

**ç¼“å­˜é…ç½®**ï¼š

```javascript
const MAX_CACHED_ICON_BYTES = 500 * 1024; // å•å¼ å›¾æ ‡æœ€å¤§ 500KB
```

**æ‹–æ‹½é…ç½®**ï¼š

```javascript
const DRAG_LONG_PRESS_MS = 90; // é•¿æŒ‰ 90ms æ¿€æ´»æ‹–æ‹½
```

---

### ğŸ”„ æ•°æ®åŒæ­¥

#### WebDAV åŒæ­¥è¯¦ç»†é…ç½®

##### æœåŠ¡å•†ä¸¾ä¾‹

-   **Nextcloud**ï¼šå¼€æºç§æœ‰äº‘å­˜å‚¨
-   **åšæœäº‘**ï¼šå›½å†… WebDAV æœåŠ¡
-   **ç¾¤æ™– NAS**ï¼šè‡ªå»º WebDAV æœåŠ¡å™¨
-   **å…¶ä»–**ï¼šä»»ä½•æ”¯æŒ WebDAV åè®®çš„æœåŠ¡

##### é…ç½®æ­¥éª¤

1. **å‡†å¤‡ WebDAV æœåŠ¡**

    - ç¡®ä¿å¯å¤–ç½‘è®¿é—®ï¼ˆæˆ–åœ¨å†…ç½‘ç¯å¢ƒä½¿ç”¨ï¼‰
    - å¯ç”¨ WebDAV åè®®
    - åˆ›å»ºç”¨æˆ·è´¦å·å¹¶èµ‹äºˆè¯»å†™æƒé™

2. **è·å–é…ç½®ä¿¡æ¯**

    - **æ–‡ä»¶åœ°å€**ï¼šå®Œæ•´çš„ JSON æ–‡ä»¶ URL
        - ç¤ºä¾‹ï¼ˆNextcloudï¼‰ï¼š`https://cloud.example.com/remote.php/dav/files/username/edgeTab-data.json`
        - ç¤ºä¾‹ï¼ˆåšæœäº‘ï¼‰ï¼š`https://dav.jianguoyun.com/dav/edgeTab-data.json`
    - **ç”¨æˆ·å**ï¼šWebDAV è´¦å·
    - **å¯†ç **ï¼šWebDAV å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç ï¼ˆæ¨èï¼‰

3. **åœ¨æ‰©å±•ä¸­é…ç½®**

    - æ‰“å¼€è®¾ç½® â†’ æ•°æ®å­˜å‚¨ä½ç½® â†’ é€‰æ‹© WebDAV åŒæ­¥
    - å¡«å†™æ–‡ä»¶åœ°å€ã€ç”¨æˆ·åã€å¯†ç 
    - ç‚¹å‡»"åº”ç”¨é…ç½®"éªŒè¯è¿æ¥

4. **é€‰æ‹©åŒæ­¥æ–¹å‘**

    - éªŒè¯æˆåŠŸåï¼Œé€‰æ‹©ä¸€æ¬¡æ€§åŒæ­¥æ–¹å¼ï¼š
        - **æœ¬åœ°è¦†ç›–äº‘ç«¯**ï¼šä¸Šä¼ æœ¬åœ°æ•°æ®
        - **åˆå¹¶åä¸Šä¼ å¹¶ç”Ÿæ•ˆ**ï¼šåˆå¹¶æœ¬åœ°å’Œè¿œç¨‹æ•°æ®
        - **äº‘ç«¯è¦†ç›–æœ¬åœ°**ï¼šä¸‹è½½è¿œç¨‹æ•°æ®

5. **è‡ªåŠ¨åŒæ­¥**
    - å®Œæˆé¦–æ¬¡åŒæ­¥åï¼Œåç»­æ“ä½œå°†è‡ªåŠ¨ä½¿ç”¨è¯¥æ¨¡å¼
    - æ¯æ¬¡ä¿å­˜æ—¶è‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV

##### å¸¸è§é—®é¢˜

-   **401 Unauthorized**ï¼šç”¨æˆ·åæˆ–å¯†ç é”™è¯¯
-   **404 Not Found**ï¼šæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼ˆé¦–æ¬¡åŒæ­¥ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
-   **403 Forbidden**ï¼šè´¦å·æƒé™ä¸è¶³
-   **è¶…æ—¶**ï¼šç½‘ç»œä¸ç¨³å®šæˆ–æœåŠ¡å™¨å“åº”æ…¢

#### GitHub Gist åŒæ­¥è¯¦ç»†é…ç½®

##### é…ç½®æ­¥éª¤

1. **åˆ›å»º Personal Access Token**

    - è®¿é—® [GitHub Token è®¾ç½®](https://github.com/settings/tokens)
    - ç‚¹å‡»"Generate new token" â†’ "Generate new token (classic)"
    - å‹¾é€‰ `gist` æƒé™ï¼ˆä»…éœ€æ­¤æƒé™ï¼‰
    - ç”Ÿæˆå¹¶å¤åˆ¶ Tokenï¼ˆæ ¼å¼ï¼š`ghp_xxx` æˆ– `github_pat_xxx`ï¼‰

2. **åœ¨æ‰©å±•ä¸­é…ç½®**

    - æ‰“å¼€è®¾ç½® â†’ æ•°æ®å­˜å‚¨ä½ç½® â†’ é€‰æ‹© GitHub Gist åŒæ­¥
    - å¡«å†™ GitHub Token
    - Gist IDï¼š
        - **ç•™ç©º**ï¼šé¦–æ¬¡ä¿å­˜æ—¶è‡ªåŠ¨åˆ›å»ºç§æœ‰ Gist
        - **å¡«å†™**ï¼šä½¿ç”¨ç°æœ‰ Gistï¼ˆä» Gist URL ä¸­è·å–ï¼‰
    - æ–‡ä»¶åï¼šé»˜è®¤ `edgeTab-data.json`ï¼Œå¯è‡ªå®šä¹‰

3. **éªŒè¯å’ŒåŒæ­¥**
    - ç‚¹å‡»"åº”ç”¨é…ç½®"éªŒè¯ Token
    - é€‰æ‹©åŒæ­¥æ–¹å‘ï¼ˆåŒ WebDAVï¼‰

##### å®‰å…¨è¯´æ˜

-   Token å’Œ Gist ID ä»…ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°
-   å»ºè®®ä½¿ç”¨ Fine-grained Token å¹¶é™åˆ¶æƒé™
-   å®šæœŸè½®æ¢ Token ä»¥æé«˜å®‰å…¨æ€§

---

### ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—

#### ä»£ç ç»“æ„

**JavaScript ä¸»è¦æ¨¡å—**ï¼š

-   **æ•°æ®ç®¡ç†**ï¼š
    -   `loadData()` / `saveData()`ï¼šæ•°æ®è¯»å†™
    -   `normalizeDataStructure()`ï¼šæ•°æ®æ ¼å¼æ ¡éªŒ
-   **ä¹¦ç­¾æ“ä½œ**ï¼š
    -   `findBookmarkLocation()`ï¼šå®šä½ä¹¦ç­¾
    -   `moveBookmarkTo()`ï¼šç§»åŠ¨ä¹¦ç­¾
    -   `removeBookmarkById()`ï¼šåˆ é™¤ä¹¦ç­¾
-   **æ‹–æ‹½ç³»ç»Ÿ**ï¼š
    -   `setupBookmarkCardDrag()`ï¼šåˆå§‹åŒ–æ‹–æ‹½
    -   `dragState`ï¼šæ‹–æ‹½çŠ¶æ€ç®¡ç†
-   **å›¾æ ‡ç³»ç»Ÿ**ï¼š
    -   `generateHighResIconMeta()`ï¼šç”Ÿæˆå›¾æ ‡æºåˆ—è¡¨
    -   `cacheIconIfNeeded()`ï¼šç¼“å­˜å›¾æ ‡
    -   `resolveBookmarkIconSource()`ï¼šè§£æå›¾æ ‡æº
-   **åŒæ­¥ç³»ç»Ÿ**ï¼š
    -   `loadDataFromWebDAV()` / `saveDataToWebDAV()`
    -   `loadDataFromGist()` / `saveDataToGist()`
-   **æ¸²æŸ“ç³»ç»Ÿ**ï¼š
    -   `renderApp()`ï¼šæ¸²æŸ“æ•´ä¸ªåº”ç”¨
    -   `renderCategories()`ï¼šæ¸²æŸ“åˆ†ç±»åˆ—è¡¨
    -   `renderBookmarks()`ï¼šæ¸²æŸ“ä¹¦ç­¾ç½‘æ ¼

#### æœ¬åœ°å¼€å‘

1. å…‹éš†é¡¹ç›®

    ```bash
    git clone https://github.com/everlst/MyLocalNewTab.git
    cd MyLocalNewTab
    ```

2. åœ¨æµè§ˆå™¨ä¸­åŠ è½½æ‰©å±•ï¼ˆè§"å¿«é€Ÿå¼€å§‹"éƒ¨åˆ†ï¼‰

3. ä¿®æ”¹ä»£ç 

    - ç¼–è¾‘ `js/script.js`ã€`css/style.css` æˆ– `newtab.html`
    - åœ¨æ‰©å±•ç®¡ç†é¡µé¢ç‚¹å‡»åˆ·æ–°æŒ‰é’®
    - æ‰“å¼€æ–°æ ‡ç­¾é¡µæŸ¥çœ‹æ•ˆæœ

4. è°ƒè¯•
    - å³é”®ç‚¹å‡»æ–°æ ‡ç­¾é¡µ â†’ æ£€æŸ¥
    - ä½¿ç”¨ Chrome DevTools è°ƒè¯•

---

### â“ å¸¸è§é—®é¢˜

#### 1. ä¸ºä»€ä¹ˆæœ‰äº›ç½‘ç«™å›¾æ ‡åŠ è½½å¤±è´¥ï¼Ÿ

-   **åŸå› **ï¼šéƒ¨åˆ†ç½‘ç«™æ²¡æœ‰æä¾› Faviconï¼Œæˆ–å›¾æ ‡æºè¢« CORS ç­–ç•¥é˜»æ­¢
-   **è§£å†³**ï¼š
    -   ä½¿ç”¨"è‡ªå®šä¹‰å›¾æ ‡"åŠŸèƒ½ä¸Šä¼ æœ¬åœ°å›¾ç‰‡
    -   æˆ–ä½¿ç”¨"çº¯è‰²+æ–‡å­—"åˆ›å»ºç®€å•å›¾æ ‡

#### 2. èƒŒæ™¯å›¾ç‰‡ä¸ºä»€ä¹ˆä¸æ˜¾ç¤ºï¼Ÿ

-   **åŸå› **ï¼š
    -   å›¾ç‰‡æ ¼å¼ä¸æ”¯æŒ
    -   å›¾ç‰‡é“¾æ¥å¤±æ•ˆ
    -   æµè§ˆå™¨å­˜å‚¨é…é¢å·²æ»¡
    -   å—æœåŠ¡å•†é™åˆ¶ï¼Œå›¾ç‰‡å°ºå¯¸å¤ªå¤§
-   **è§£å†³**ï¼š
    -   ç¡®ä¿å›¾ç‰‡æ ¼å¼ä¸º jpg/png/webp/avif/gif
    -   ä½¿ç”¨å›¾ç‰‡é“¾æ¥æ¨¡å¼ï¼ˆæ— å¤§å°é™åˆ¶ï¼‰
    -   æ£€æŸ¥æµè§ˆå™¨å­˜å‚¨ç©ºé—´ï¼ˆ`edge://settings/storageAccessPermissions`ï¼‰
    -   ä½¿ç”¨è‡ªå»ºçš„ WebDav æœåŠ¡ï¼ˆå·²éªŒè¯ç¨³å®šæ€§ï¼‰ï¼Œæˆ–ä½¿ç”¨æ›´å°æ–‡ä»¶å¤§å°çš„å›¾ç‰‡

#### 3. WebDAV åŒæ­¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

-   **æ£€æŸ¥é¡¹**ï¼š
    -   æ–‡ä»¶åœ°å€æ˜¯å¦æ­£ç¡®ï¼ˆç›´æ¥æŒ‡å‘ JSON æ–‡ä»¶ï¼‰
    -   ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
    -   ç½‘ç»œæ˜¯å¦å¯è®¿é—® WebDAV æœåŠ¡å™¨
    -   WebDAV è´¦å·æ˜¯å¦æœ‰è¯»å†™æƒé™
-   **è°ƒè¯•æ–¹æ³•**ï¼š
    -   æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
    -   å°è¯•åœ¨æµè§ˆå™¨åœ°å€æ ç›´æ¥è®¿é—®æ–‡ä»¶åœ°å€

#### 4. æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿ

-   **æœ¬åœ°å­˜å‚¨**ï¼š
    -   æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æ‰©å±•å­˜å‚¨åŒºåŸŸ
    -   å¸è½½æ‰©å±•ä¼šæ¸…ç©ºæ•°æ®
    -   å»ºè®®å®šæœŸå¯¼å‡ºå¤‡ä»½
-   **è¿œç¨‹åŒæ­¥**ï¼š
    -   WebDAV/Gist ä¼šä¿ç•™è¿œç¨‹å‰¯æœ¬
    -   å¯éšæ—¶ä»è¿œç¨‹æ¢å¤

#### 5. å¦‚ä½•è¿ç§»åˆ°å…¶ä»–è®¾å¤‡ï¼Ÿ

-   **æ–¹æ³• 1**ï¼šå¯¼å‡º/å¯¼å…¥
    -   åœ¨æ—§è®¾å¤‡å¯¼å‡ºæ•°æ®ï¼ˆJSON æ–‡ä»¶ï¼‰
    -   åœ¨æ–°è®¾å¤‡å¯¼å…¥æ•°æ®
-   **æ–¹æ³• 2**ï¼šä½¿ç”¨åŒæ­¥åŠŸèƒ½
    -   åœ¨æ—§è®¾å¤‡é…ç½® WebDAV/Gist åŒæ­¥
    -   åœ¨æ–°è®¾å¤‡é…ç½®ç›¸åŒçš„åŒæ­¥è´¦å·
    -   é€‰æ‹©"äº‘ç«¯è¦†ç›–æœ¬åœ°"

#### 6. æ‰©å±•ä¸å…¶ä»–æ–°æ ‡ç­¾é¡µæ‰©å±•å†²çªï¼Ÿ

-   æµè§ˆå™¨åªå…è®¸ä¸€ä¸ªæ‰©å±•è¦†ç›–æ–°æ ‡ç­¾é¡µ
-   ç¦ç”¨å…¶ä»–æ–°æ ‡ç­¾é¡µæ‰©å±•å³å¯

#### 7. Gist åŒæ­¥èƒŒæ™¯å›¾å¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ

-   **åŸå› **ï¼š
    -   Gist å°†å›¾ç‰‡å­˜å‚¨ä¸º Base64 æ–‡æœ¬æ ¼å¼ï¼Œå¤§å›¾ç‰‡ä¼šå¯¼è‡´ï¼š
        -   ä½“ç§¯å¢åŠ çº¦ 33%ï¼ˆBase64 ç¼–ç å¼€é”€ï¼‰
        -   åŒæ­¥é€Ÿåº¦æ˜æ˜¾å˜æ…¢
        -   æµè§ˆå™¨è§£ç  Base64 è€—æ—¶è¾ƒé•¿
-   **è§£å†³æ–¹æ¡ˆ**ï¼š
    -   **æ–¹æ¡ˆ 1**ï¼šä½¿ç”¨æ›´å°çš„å›¾ç‰‡ï¼ˆå»ºè®®å‹ç¼©å < 4MBï¼‰
    -   **æ–¹æ¡ˆ 2**ï¼šåˆ‡æ¢åˆ° WebDAV å­˜å‚¨ï¼ˆæ”¯æŒäºŒè¿›åˆ¶ï¼Œæ€§èƒ½æ›´å¥½ï¼Œ**æ— å¤§å°é™åˆ¶**ï¼‰
    -   **æ–¹æ¡ˆ 3**ï¼šä½¿ç”¨å›¾åºŠæœåŠ¡ï¼ˆå¦‚ imgur.comã€sm.msï¼‰+ "å›¾ç‰‡é“¾æ¥"æ¨¡å¼ï¼ˆæ— å¤§å°é™åˆ¶ï¼ŒåŠ è½½æœ€å¿«ï¼‰
-   **æœ€ä½³å®è·µ**ï¼š
    -   Gist é€‚åˆå­˜å‚¨ä¹¦ç­¾æ•°æ®ï¼ˆæ–‡æœ¬ï¼‰ï¼Œä¸é€‚åˆå¤§å›¾ç‰‡
    -   èƒŒæ™¯å›¾æ¨èï¼šå›¾åºŠ URL > WebDAVï¼ˆæ— é™åˆ¶ï¼‰ > Gistï¼ˆâ‰¤4MBï¼‰

#### 8. å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

-   **æ‰‹åŠ¨å¤‡ä»½**ï¼š
    -   æ‰“å¼€è®¾ç½® â†’ æ•°æ®è½¬ç§» â†’ å¯¼å‡ºæ•°æ®
    -   ä¿å­˜ JSON æ–‡ä»¶åˆ°å®‰å…¨ä½ç½®
-   **è‡ªåŠ¨å¤‡ä»½**ï¼š
    -   ä½¿ç”¨ WebDAV/Gist åŒæ­¥
    -   å®šæœŸæ£€æŸ¥è¿œç¨‹æ•°æ®

---

### ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨åŒé‡è®¸å¯è¯ï¼š

-   **ğŸ†“ AGPL-3.0** ç”¨äºå¼€æºä½¿ç”¨ï¼ˆå…è´¹ï¼‰
-   **ğŸ’¼ å•†ä¸šè®¸å¯è¯** ç”¨äºå•†ä¸šä½¿ç”¨ï¼ˆä»˜è´¹ï¼‰

#### å¼€æºä½¿ç”¨ (AGPL-3.0)

å…è´¹æä¾›ç»™ä¸ªäººã€å¼€æºé¡¹ç›®å’Œæ„¿æ„ä»¥ä¸‹æ¡ä»¶çš„å…¬å¸ï¼š

-   åœ¨ AGPL-3.0 è®¸å¯è¯ä¸‹å‘å¸ƒå…¶ä¿®æ”¹
-   ä¸ä½¿ç”¨è¯¥è½¯ä»¶çš„ç”¨æˆ·å…±äº«æºä»£ç 

#### å•†ä¸šä½¿ç”¨

å¦‚éœ€åœ¨é—­æºäº§å“æˆ–æœåŠ¡ä¸­ä½¿ç”¨æœ¬è½¯ä»¶ä¸”ä¸å— AGPL-3.0 è¦æ±‚çš„çº¦æŸï¼Œè¯·è”ç³»æˆ‘ä»¬è·å–å•†ä¸šè®¸å¯è¯ã€‚

**è”ç³»æ–¹å¼:** everlastingk@163.com

è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

### ğŸ“® è”ç³»æ–¹å¼

-   GitHubï¼š[@everlst](https://github.com/everlst)
-   Issuesï¼š[æäº¤é—®é¢˜](https://github.com/everlst/MyLocalNewTab/issues)

---

## English

> **Note: This English version is translated by AI**

### Disclaimer

This project is 100% coded by AI. Thanks to Claude Sonnet 4.5, Gemini3 Pro, and gpt-5.1-Codex-Max for their great support.

### ğŸ“‹ Table of Contents

-   [Features](#-features)
-   [Quick Start](#-quick-start)
-   [Detailed Feature Description](#-detailed-feature-description)
-   [Key Configuration Constants](#-key-configuration-constants)
-   [Data Synchronization](#-data-synchronization)
-   [Development Guide](#-development-guide)
-   [FAQ](#-faq)
-   [License](#-license)
-   [Contact](#-contact)

---

### âœ¨ Features

#### ğŸ¯ Core Features

-   **ğŸ“‘ Smart Bookmark Management**

    -   Support for both bookmarks and folders
    -   Drag-and-drop sorting with long-press activation
    -   Nested folder support, drag to folder for organization
    -   Custom bookmark icons (auto-fetch Favicon / custom upload / solid color + text)
    -   Multi-level icon fallback strategy for stable display

-   **ğŸ—‚ï¸ Category System**

    -   Unlimited categories with sidebar management
    -   Drag-and-drop category reordering
    -   Independent bookmark management per category

-   **ğŸ” Multi-Engine Search**

    -   Support for Google, Bing, Baidu, Yahoo
    -   Quick search engine switching
    -   Integrated search bar at the top

-   **ğŸ¨ Custom Background**
    -   **Local Mode**: Upload local images or use image URLs
    -   **Cloud Mode**: Auto-sync background from WebDAV/Gist
    -   Adjustable opacity (0-100%)
    -   Support for multiple image formats (jpg/png/webp/avif/gif)
    -   Real-time preview

#### ğŸ’¾ Data Storage & Sync

Four storage options for different use cases:

1. **Browser Storage** (Default)

    - Data saved in extension-specific `storage.local`
    - Bound to current device/browser profile only
    - Unlimited capacity, supports many bookmarks and large background images
    - Physical path: `Local Extension Settings/<Extension ID>` in Edge user data directory

2. **Account Sync**

    - Auto-sync via browser account's `chrome.storage.sync`
    - Suitable for multi-device sharing
    - Limited by browser sync quota (~100KB)

3. **WebDAV Sync**

    - Support for any WebDAV-compatible service (Nextcloud, Nutstore, etc.)
    - Requires internet-accessible WebDAV endpoint
    - Support for HTTPS + Basic Authentication
    - Example: `https://dav.example.com/remote.php/dav/files/<user>/edgeTab-data.json`

4. **GitHub Gist Sync**
    - Use GitHub Personal Access Token (requires `gist` permission)
    - Specify existing Gist ID, or leave empty to auto-create private Gist
    - Default filename `edgeTab-data.json`, customizable
    - Token and Gist ID stored locally only

#### ğŸ“¤ Data Import/Export

-   **Export**: JSON format for backup or migration
-   **Import**: Two modes supported
    -   **Merge Mode**: Append to existing data (no duplicate URLs)
    -   **Overwrite Mode**: Replace all current data
-   **Compatibility**: Support for importing data from this extension and WeTab

#### ğŸ­ User Experience

-   **Theme**: Auto-follow system dark/light mode
-   **Animations**: Smooth transitions and interactive feedback
-   **Drag & Drop**:
    -   Bookmark cards: Long-press to activate drag (with visual feedback)
    -   Category list: Long-press to activate drag
    -   Support for cross-folder dragging
    -   Drag to folder card for auto-organization
    -   Real-time placeholder hints
-   **Icon Caching**: Auto-cache website icons for faster loading
-   **View Transitions API**: Support for native browser page transitions

---

### ğŸš€ Quick Start

#### Installation Steps

1. **Download the project**

    ```bash
    git clone https://github.com/everlst/MyLocalNewTab.git
    cd MyLocalNewTab
    ```

2. **Load the extension**

    - Open Edge/Chrome browser
    - Visit `edge://extensions/` (Edge) or `chrome://extensions/` (Chrome)
    - Enable "Developer mode"
    - Click "Load unpacked"
    - Select the `MyLocalNewTab` folder

3. **Start using**
    - Open a new tab, the extension will activate automatically
    - Default bookmarks include Google, Bilibili, GitHub

---

### ğŸ“– Detailed Feature Description

#### Bookmark Management

##### Add Bookmark

1. Click the "Add" card in the bookmark grid
2. Select type:
    - **URL**: Add a website link
    - **Folder**: Create a bookmark folder
3. Fill in information:
    - **URL** (URL type only): Complete website URL
    - **Title**: Display name
    - **Icon** (URL type only):
        - Auto-fetch Favicon: Automatically get HD icons from multiple sources
        - Custom icon: Upload local image or use solid color + text
    - **Category**: Select category

##### Edit/Delete Bookmark

-   Hover over a bookmark card
-   Click âœ (edit) or Ã— (delete) button in the top-right corner

##### Drag & Drop Sorting

-   **Activate drag**: Long-press bookmark card (card will enlarge with shadow)
-   **Move**: Drag to target position (blue dashed placeholder will appear)
-   **Release**: Release mouse to complete move
-   **Cross-category move**: Can drag to different categories
-   **Organize into folder**: Drag onto folder card (folder will highlight)

##### Folder Features

-   **Create folder**: Select "Folder" type when adding bookmark
-   **Open folder**: Click folder card
-   **Add inside folder**: Click "Add" in folder modal
-   **Move out of folder**: Drag bookmark outward inside folder
-   **Auto-dissolve**: Folder auto-dissolves when only one bookmark remains
-   **Nested folders**: Support creating subfolders, up to 3 levels

#### Category Management

##### Add Category

1. Click "+" button at the bottom of sidebar
2. Enter category name
3. Click "Save"

##### Switch Category

-   Click category name in sidebar
-   Main area will display all bookmarks in that category

##### Delete Category

-   Hover over a category
-   Click Ã— button on the right
-   Note: At least one category must remain

##### Reorder Categories

-   Long-press category name for 90ms to activate drag
-   Drag to target position
-   Release to complete reordering

#### Search Function

-   **Switch search engine**: Click dropdown menu on the left of search bar
-   **Search**: Enter keywords in search bar, press Enter
-   **Supported search engines**:
    -   Google (default)
    -   Bing
    -   Baidu
    -   Yahoo

#### Background Settings

##### Local Mode

1. Open Settings â†’ Appearance â†’ Background Settings
2. Select "Local"
3. Choose upload method:
    - **Local Upload**: Select image file (â‰¤2MB recommended for browser storage, â‰¤10MB for WebDAV/Gist)
    - **Image Link**: Paste image URL (recommended for 4K users, no size limit)
4. Adjust opacity (0-100%)
5. Real-time preview

##### Cloud Mode

1. Open Settings â†’ Appearance â†’ Background Settings
2. Select "Cloud Sync"
3. Ensure WebDAV or Gist sync is configured
4. Click "Refresh Cloud" or "Upload/Modify"
5. Extension will auto-search for `background.(jpg|png|webp|avif|gif)` in remote data directory

#### Settings Page

Click the gear button âš™ in the bottom-right corner to open settings.

##### Appearance Settings

-   **Background**: See "Background Settings" section
-   **Opacity**: Drag slider to adjust (0-100%)
-   **Real-time preview**: What you see is what you get

##### Data Storage Location

Choose one of four storage methods:

1. **Browser Storage** (Recommended)

    - This device only
    - Unlimited capacity
    - Data saved in extension-specific storage area

2. **Account Sync**

    - Cross-device sync
    - ~100KB capacity limit
    - Use browser storage or remote sync if data is too large

3. **WebDAV Sync**

    - Configuration:
        - **File URL**: Complete URL pointing to JSON file
        - **Username**: WebDAV account
        - **Password**: WebDAV password or app-specific password
    - Click "Apply Configuration" to verify
    - After successful verification, choose sync direction:
        - **Local to Cloud**: Upload local data to remote
        - **Merge and Upload**: Merge local and remote data
        - **Cloud to Local**: Download remote data to overwrite local

4. **GitHub Gist Sync**
    - Configuration:
        - **GitHub Token**: [Create Token](https://github.com/settings/tokens) (only `gist` permission needed)
        - **Gist ID**: Leave empty to auto-create
        - **Filename**: Default `edgeTab-data.json`
    - Click "Apply Configuration" to verify
    - After successful verification, choose sync direction

##### Data Transfer

-   **Export Data**: Click "Export Data" button to download JSON file
-   **Import Data**:
    1. Select data source:
        - Data exported by current extension
        - Data exported by WeTab (manually change \*.data format to \*.json)
    2. Select import mode:
        - **Merge**: Append to existing data
        - **Overwrite**: Replace all current data
    3. Click "Import Data", select file

---

### âš™ï¸ Key Configuration Constants

**Storage Keys**:

```javascript
const STORAGE_KEYS = {
	DATA: "edgeTabData",
	SETTINGS: "edgeTabSettings",
	BACKGROUND_IMAGE: "edgeTabBgImage",
};
```

**Sync Configuration**:

```javascript
const REMOTE_FETCH_TIMEOUT = 12000; // 12 second timeout
const DEFAULT_REMOTE_FILENAME = "edgeTab-data.json";
const BACKGROUND_EXTENSIONS = ["jpg", "jpeg", "png", "webp", "avif", "gif"];
```

**Cache Configuration**:

```javascript
const MAX_CACHED_ICON_BYTES = 500 * 1024; // Max 500KB per icon
```

**Drag Configuration**:

```javascript
const DRAG_LONG_PRESS_MS = 90; // 90ms long-press to activate drag
```

---

### ğŸ”„ Data Synchronization

#### WebDAV Sync Detailed Configuration

##### Service Examples

-   **Nextcloud**: Open-source private cloud storage
-   **Nutstore**: Domestic WebDAV service (åšæœäº‘)
-   **Synology NAS**: Self-hosted WebDAV server
-   **Others**: Any service supporting WebDAV protocol

##### Configuration Steps

1. **Prepare WebDAV Service**

    - Ensure internet accessibility (or use in local network)
    - Enable WebDAV protocol
    - Create user account with read/write permissions

2. **Get Configuration Info**

    - **File URL**: Complete JSON file URL
        - Example (Nextcloud): `https://cloud.example.com/remote.php/dav/files/username/edgeTab-data.json`
        - Example (Nutstore): `https://dav.jianguoyun.com/dav/edgeTab-data.json`
    - **Username**: WebDAV account
    - **Password**: WebDAV password or app-specific password (recommended)

3. **Configure in Extension**

    - Open Settings â†’ Data Storage Location â†’ Select WebDAV Sync
    - Fill in file URL, username, password
    - Click "Apply Configuration" to verify connection

4. **Choose Sync Direction**

    - After successful verification, choose one-time sync method:
        - **Local to Cloud**: Upload local data
        - **Merge and Upload**: Merge local and remote data
        - **Cloud to Local**: Download remote data

5. **Auto Sync**
    - After first sync, subsequent operations will auto-use this mode
    - Auto-upload to WebDAV on each save

##### Common Issues

-   **401 Unauthorized**: Incorrect username or password
-   **404 Not Found**: File path doesn't exist (will auto-create on first sync)
-   **403 Forbidden**: Insufficient account permissions
-   **Timeout**: Unstable network or slow server response

#### GitHub Gist Sync Detailed Configuration

##### Configuration Steps

1. **Create Personal Access Token**

    - Visit [GitHub Token Settings](https://github.com/settings/tokens)
    - Click "Generate new token" â†’ "Generate new token (classic)"
    - Check `gist` permission (only this permission needed)
    - Generate and copy Token (format: `ghp_xxx` or `github_pat_xxx`)

2. **Configure in Extension**

    - Open Settings â†’ Data Storage Location â†’ Select GitHub Gist Sync
    - Fill in GitHub Token
    - Gist ID:
        - **Leave empty**: Auto-create private Gist on first save
        - **Fill in**: Use existing Gist (get from Gist URL)
    - Filename: Default `edgeTab-data.json`, customizable

3. **Verify and Sync**
    - Click "Apply Configuration" to verify Token
    - Choose sync direction (same as WebDAV)

##### Security Notes

-   Token and Gist ID stored locally in browser only
-   Recommend using Fine-grained Token with limited permissions
-   Regularly rotate Token for better security

---

### ğŸ‘¨â€ğŸ’» Development Guide

#### Code Structure

**Main JavaScript Modules**:

-   **Data Management**:
    -   `loadData()` / `saveData()`: Data read/write
    -   `normalizeDataStructure()`: Data format validation
-   **Bookmark Operations**:
    -   `findBookmarkLocation()`: Locate bookmark
    -   `moveBookmarkTo()`: Move bookmark
    -   `removeBookmarkById()`: Delete bookmark
-   **Drag System**:
    -   `setupBookmarkCardDrag()`: Initialize drag
    -   `dragState`: Drag state management
-   **Icon System**:
    -   `generateHighResIconMeta()`: Generate icon source list
    -   `cacheIconIfNeeded()`: Cache icon
    -   `resolveBookmarkIconSource()`: Resolve icon source
-   **Sync System**:
    -   `loadDataFromWebDAV()` / `saveDataToWebDAV()`
    -   `loadDataFromGist()` / `saveDataToGist()`
-   **Render System**:
    -   `renderApp()`: Render entire app
    -   `renderCategories()`: Render category list
    -   `renderBookmarks()`: Render bookmark grid

#### Local Development

1. Clone the project

    ```bash
    git clone https://github.com/everlst/MyLocalNewTab.git
    cd MyLocalNewTab
    ```

2. Load extension in browser (see "Quick Start" section)

3. Modify code

    - Edit `js/script.js`, `css/style.css`, or `newtab.html`
    - Click refresh button on extension management page
    - Open new tab to see changes

4. Debug
    - Right-click new tab page â†’ Inspect
    - Use Chrome DevTools for debugging

---

### â“ FAQ

#### 1. Why do some website icons fail to load?

-   **Reason**: Some websites don't provide Favicon, or icon sources are blocked by CORS policy
-   **Solution**:
    -   Use "Custom Icon" feature to upload local image
    -   Or use "Solid Color + Text" to create simple icon

#### 2. Why doesn't the background image display?

-   **Reason**:
    -   Unsupported image format
    -   Invalid image link
    -   Browser storage quota full
    -   Service provider restrictions
-   **Solution**:
    -   Ensure image format is jpg/png/webp/avif/gif
    -   Use image link mode (no size limit)
    -   Check browser storage space (`edge://settings/storageAccessPermissions`)
    -   Use self-hosted WebDAV service (verified stability)

#### 3. What if WebDAV sync fails?

-   **Check**:
    -   Is file URL correct (pointing directly to JSON file)
    -   Are username and password correct
    -   Is WebDAV server accessible via network
    -   Does WebDAV account have read/write permissions
-   **Debug**:
    -   Open browser console (F12) to view error messages
    -   Try accessing file URL directly in browser address bar

#### 4. Will data be lost?

-   **Local Storage**:
    -   Data saved in browser extension storage area
    -   Uninstalling extension will clear data
    -   Recommend regular export backups
-   **Remote Sync**:
    -   WebDAV/Gist keeps remote copies
    -   Can restore from remote anytime

#### 5. How to migrate to another device?

-   **Method 1**: Export/Import
    -   Export data on old device (JSON file)
    -   Import data on new device
-   **Method 2**: Use sync feature
    -   Configure WebDAV/Gist sync on old device
    -   Configure same sync account on new device
    -   Choose "Cloud to Local"

#### 6. Extension conflicts with other new tab extensions?

-   Browser only allows one extension to override new tab page
-   Disable other new tab extensions

#### 7. How to backup data?

-   **Manual Backup**:
    -   Open Settings â†’ Data Transfer â†’ Export Data
    -   Save JSON file to safe location
-   **Auto Backup**:
    -   Use WebDAV/Gist sync
    -   Regularly check remote data

---

### ğŸ“„ License

This project is dual-licensed:

-   **ğŸ†“ AGPL-3.0** for open-source use (free)
-   **ğŸ’¼ Commercial License** for proprietary use (paid)

#### Open Source Use (AGPL-3.0)

Free for individuals, open-source projects, and companies willing to:

-   Release their modifications under AGPL-3.0
-   Share source code with users interacting with the software

#### Commercial Use

For using this software in closed-source products or services without the
AGPL-3.0 requirements, please contact us for a commercial license.

**Contact:** everlastingk@163.com

See [LICENSE](LICENSE) for full details.

### ğŸ“® Contact

-   GitHub: [@everlst](https://github.com/everlst)
-   Issues: [Submit Issue](https://github.com/everlst/MyLocalNewTab/issues)
